<div *ngIf="empty">
  <div class="breadcrumbs-area mb-70">
    <div class="container">
      <nz-breadcrumb class="pt-2">
        <nz-breadcrumb-item >
         <a routerLink="/">Home</a>
        </nz-breadcrumb-item>
        <nz-breadcrumb-item>
          View-Cart
        </nz-breadcrumb-item>
      </nz-breadcrumb>
    </div>
  </div>
  <div class="container">
    <div class="row empty">
      <div class="col-12">
        <nz-result nzStatus="404" nzTitle="404" nzSubTitle="Sorry, the page you visited does not have any data.">
          <div nz-result-extra>
            <button nz-button routerLink="/" nzType="primary">Back Home</button>
          </div>
        </nz-result>
      </div>
    </div>
  </div>
</div>

<div class="shop-main-area mb-70" *ngIf="!empty">
  <div class="breadcrumbs-area mb-70">
    <div class="container">
      <nz-breadcrumb>
        <nz-breadcrumb-item >
          <a routerLink="/">Home</a>
        </nz-breadcrumb-item>
        <nz-breadcrumb-item>
          View-Cart
        </nz-breadcrumb-item>
      </nz-breadcrumb>

    </div>
  </div>
  <div class="container">
      <div class="row">
          <div class="col-lg-12 col-md-12 col-12 order-lg-2 order-1">

              <div class="section-title-5 mb-30">
                  <h2>My Cart</h2>
              </div>
              <div class="d-flex flex-row-reverse bd-highlight">
                <div class="p-2 bd-hig">
                  <nz-affix [nzOffsetTop]="offsetTop">
                    <button nz-button nzType="primary" (click)="open(fundmodal)">
                      <span>Add money</span>
                    </button>
                  </nz-affix>
                </div>

              </div>
              <div>
                <div>
                  <div class="p-2 bd-hig">
                    <nz-affix [nzOffsetTop]="offsetTop">
                      <button nz-button nzType="primary" (click)="buybook()">
                        <span>Buy All</span>
                      </button>
                    </nz-affix>
                  </div>

                </div>
                <div class="d-flex flex-row-reverse bd-highlight">
                  <nz-row [nzGutter]="16">
                    <nz-col [nzSpan]="12" class="balance">
                      <nz-statistic [nzValue]="balances" [nzTitle]="'Your Balance'"></nz-statistic>
                    </nz-col>
                  </nz-row>
                </div>
                <button class="delete-btn " nz-button nzType="dashed" (click)="removelocalstorage()">Clear cart</button>
              </div>
              <div class="toolbar mb-30">
                  <div class="shop-tab">
                      <div class="list-page">
                          <p>Items {{storagebooks.length}}</p>
                      </div>
                  </div>
                </div>
              <!-- tab-area-start -->
              <div class="tab-content">
                  <div class="tab-pane fade show active" id="th">
                      <div class="row">
                          <div class="col-xl-3 col-lg-4 col-md-6 col-sm-6" *ngFor="let book of storagebooks">
                              <!-- single-product-start -->
                              <div class="product-wrapper mb-40" >
                                  <div class="product-img">
                                      <a>
                                          <img src="{{url}}{{book.image}}" alt="book" class="primary">
                                      </a>
                                      <div class="quick-view">
                                          <a class="action-view" routerLink="../product-details/{{book.id}}" title="Quick View">
                                              <i  class="fa fa-search-plus"></i>
                                          </a>
                                      </div>
                                      <div class="product-flag">
                                          <ul>
                                              <li><span class="sale">new</span></li>
                                              <li><span class="discount-percentage">-5%</span></li>
                                          </ul>
                                      </div>
                                  </div>
                                  <div class="product-details text-center">
                                      <h4><a>{{book.title}}</a></h4>
                                      <div class="product-price">
                                          <ul>
                                              <li>{{book.price}}$</li>
                                          </ul>
                                      </div>
                                  </div>
                                  <div class="product-link">
                                      <div class="product-button">
                                          <a routerLink="../product-details/{{book.id}}" title="buybook"><i class="fa fa-shopping-basket"></i>Buy Now</a>
                                      </div>
                                  </div>
                              </div>
                              <!-- single-product-end -->
                          </div>

              </div>
              <!-- tab-area-end -->
              <!-- pagination-area-start -->
              <div class="pagination-area mt-50">
                  <div class="list-page-2">
                      <p>Items {{storagebooks.length}}</p>
                  </div>
              </div>
              <!-- pagination-area-end -->
          </div>
      </div>
  </div>
</div>



<ng-template #fundmodal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Add money</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form>
      <div class="form-group" [formGroup]="addfundsform">
        <label>Amount</label>
        <div class="input-group">
          <input type="number" min="0" class="form-control"  name="amount" formControlName="amount" >
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" [disabled]="!addfundsform.valid" class="btn btn-outline-dark"  (click)="modal.close('Save click')" (click)="addfunds()">Save</button>
  </div>
</ng-template>

